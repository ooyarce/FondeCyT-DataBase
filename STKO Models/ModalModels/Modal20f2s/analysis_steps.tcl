
recorder mpco "record.mpco" \
-N "modesOfVibration"

# Constraints.sp fix
	fix 1 1 1 1 1 1 1
	fix 2 1 1 1 1 1 1
	fix 3 1 1 1 1 1 1
	fix 4 1 1 1 1 1 1
	fix 5 1 1 1 1 1 1
	fix 6 1 1 1 1 1 1
	fix 7 1 1 1 1 1 1
	fix 8 1 1 1 1 1 1
	fix 9 1 1 1 1 1 1
	fix 10 1 1 1 1 1 1
	fix 11 1 1 1 1 1 1
	fix 12 1 1 1 1 1 1
	fix 13 1 1 1 1 1 1
	fix 14 1 1 1 1 1 1
	fix 15 1 1 1 1 1 1
	fix 16 1 1 1 1 1 1
	fix 17 1 1 1 1 1 1
	fix 18 1 1 1 1 1 1
	fix 19 1 1 1 1 1 1
	fix 20 1 1 1 1 1 1
	fix 21 1 1 1 1 1 1
	fix 22 1 1 1 1 1 1
	fix 23 1 1 1 1 1 1
	fix 24 1 1 1 1 1 1
	fix 25 1 1 1 1 1 1
	fix 26 1 1 1 1 1 1
	fix 27 1 1 1 1 1 1
	fix 28 1 1 1 1 1 1
	fix 29 1 1 1 1 1 1
	fix 30 1 1 1 1 1 1
	fix 31 1 1 1 1 1 1
	fix 32 1 1 1 1 1 1
	fix 33 1 1 1 1 1 1
	fix 34 1 1 1 1 1 1
	fix 35 1 1 1 1 1 1
	fix 36 1 1 1 1 1 1
	fix 37 1 1 1 1 1 1
	fix 38 1 1 1 1 1 1
	fix 39 1 1 1 1 1 1
	fix 40 1 1 1 1 1 1
	fix 41 1 1 1 1 1 1
	fix 42 1 1 1 1 1 1
	fix 43 1 1 1 1 1 1
	fix 44 1 1 1 1 1 1
	fix 45 1 1 1 1 1 1
	fix 46 1 1 1 1 1 1
	fix 47 1 1 1 1 1 1
	fix 48 1 1 1 1 1 1
	fix 49 1 1 1 1 1 1
	fix 50 1 1 1 1 1 1
	fix 51 1 1 1 1 1 1
	fix 52 1 1 1 1 1 1
	fix 53 1 1 1 1 1 1
	fix 54 1 1 1 1 1 1
	fix 55 1 1 1 1 1 1
	fix 56 1 1 1 1 1 1
	fix 57 1 1 1 1 1 1
	fix 58 1 1 1 1 1 1
	fix 59 1 1 1 1 1 1
	fix 60 1 1 1 1 1 1
	fix 61 1 1 1 1 1 1
	fix 62 1 1 1 1 1 1
	fix 63 1 1 1 1 1 1
	fix 64 1 1 1 1 1 1
	fix 65 1 1 1 1 1 1
	fix 66 1 1 1 1 1 1
	fix 67 1 1 1 1 1 1
	fix 68 1 1 1 1 1 1
	fix 69 1 1 1 1 1 1
	fix 70 1 1 1 1 1 1
	fix 71 1 1 1 1 1 1
	fix 72 1 1 1 1 1 1
	fix 73 1 1 1 1 1 1
	fix 74 1 1 1 1 1 1
	fix 75 1 1 1 1 1 1
	fix 76 1 1 1 1 1 1
	fix 77 1 1 1 1 1 1
	fix 78 1 1 1 1 1 1
	fix 79 1 1 1 1 1 1
	fix 80 1 1 1 1 1 1
	fix 81 1 1 1 1 1 1
	fix 82 1 1 1 1 1 1
	fix 83 1 1 1 1 1 1
	fix 84 1 1 1 1 1 1
	fix 85 1 1 1 1 1 1
	fix 86 1 1 1 1 1 1
	fix 87 1 1 1 1 1 1
	fix 88 1 1 1 1 1 1
	fix 89 1 1 1 1 1 1
	fix 90 1 1 1 1 1 1
	fix 3706 1 1 1 1 1 1
	fix 3707 1 1 1 1 1 1
	fix 3941 1 1 1 1 1 1
	fix 3940 1 1 1 1 1 1
	fix 3929 1 1 1 1 1 1
	fix 3934 1 1 1 1 1 1
	fix 156 1 1 1 1 1 1
	fix 157 1 1 1 1 1 1
	fix 158 1 1 1 1 1 1
	fix 159 1 1 1 1 1 1
	fix 160 1 1 1 1 1 1
	fix 161 1 1 1 1 1 1
	fix 162 1 1 1 1 1 1
	fix 163 1 1 1 1 1 1
	fix 164 1 1 1 1 1 1
	fix 165 1 1 1 1 1 1
	fix 166 1 1 1 1 1 1
	fix 167 1 1 1 1 1 1
	fix 552 1 1 1 1 1 1
	fix 554 1 1 1 1 1 1
	fix 3950 1 1 1 1 1 1
	fix 3942 1 1 1 1 1 1
	fix 3930 1 1 1 1 1 1
	fix 2318 1 1 1 1 1 1
	fix 563 1 1 1 1 1 1
	fix 564 1 1 1 1 1 1
	fix 3939 1 1 1 1 1 1
	fix 801 1 1 1 1 1 1
	fix 802 1 1 1 1 1 1
	fix 803 1 1 1 1 1 1
	fix 804 1 1 1 1 1 1
	fix 805 1 1 1 1 1 1
	fix 806 1 1 1 1 1 1
	fix 807 1 1 1 1 1 1
	fix 808 1 1 1 1 1 1
	fix 809 1 1 1 1 1 1
	fix 810 1 1 1 1 1 1
	fix 2347 1 1 1 1 1 1
	fix 811 1 1 1 1 1 1
	fix 812 1 1 1 1 1 1
	fix 813 1 1 1 1 1 1
	fix 814 1 1 1 1 1 1
	fix 815 1 1 1 1 1 1
	fix 816 1 1 1 1 1 1
	fix 817 1 1 1 1 1 1
	fix 818 1 1 1 1 1 1
	fix 819 1 1 1 1 1 1
	fix 820 1 1 1 1 1 1
	fix 821 1 1 1 1 1 1
	fix 822 1 1 1 1 1 1
	fix 823 1 1 1 1 1 1
	fix 824 1 1 1 1 1 1
	fix 825 1 1 1 1 1 1
	fix 826 1 1 1 1 1 1
	fix 827 1 1 1 1 1 1
	fix 828 1 1 1 1 1 1
	fix 829 1 1 1 1 1 1
	fix 830 1 1 1 1 1 1
	fix 831 1 1 1 1 1 1
	fix 832 1 1 1 1 1 1
	fix 833 1 1 1 1 1 1
	fix 834 1 1 1 1 1 1
	fix 835 1 1 1 1 1 1
	fix 836 1 1 1 1 1 1
	fix 837 1 1 1 1 1 1
	fix 838 1 1 1 1 1 1
	fix 839 1 1 1 1 1 1
	fix 840 1 1 1 1 1 1
	fix 841 1 1 1 1 1 1
	fix 842 1 1 1 1 1 1
	fix 843 1 1 1 1 1 1
	fix 844 1 1 1 1 1 1
	fix 845 1 1 1 1 1 1
	fix 846 1 1 1 1 1 1
	fix 847 1 1 1 1 1 1
	fix 848 1 1 1 1 1 1
	fix 849 1 1 1 1 1 1
	fix 850 1 1 1 1 1 1
	fix 851 1 1 1 1 1 1
	fix 852 1 1 1 1 1 1
	fix 853 1 1 1 1 1 1
	fix 854 1 1 1 1 1 1
	fix 2392 1 1 1 1 1 1
	fix 2393 1 1 1 1 1 1
	fix 2394 1 1 1 1 1 1
	fix 2395 1 1 1 1 1 1
	fix 2396 1 1 1 1 1 1
	fix 578 1 1 1 1 1 1
	fix 2397 1 1 1 1 1 1
	fix 855 1 1 1 1 1 1
	fix 856 1 1 1 1 1 1
	fix 857 1 1 1 1 1 1
	fix 579 1 1 1 1 1 1
	fix 858 1 1 1 1 1 1
	fix 3931 1 1 1 1 1 1
	fix 3932 1 1 1 1 1 1
	fix 3933 1 1 1 1 1 1
	fix 580 1 1 1 1 1 1
	fix 3935 1 1 1 1 1 1
	fix 3936 1 1 1 1 1 1
	fix 3937 1 1 1 1 1 1
	fix 3938 1 1 1 1 1 1
	fix 581 1 1 1 1 1 1
	fix 2412 1 1 1 1 1 1
	fix 2413 1 1 1 1 1 1
	fix 2414 1 1 1 1 1 1
	fix 2415 1 1 1 1 1 1
	fix 2416 1 1 1 1 1 1
	fix 2417 1 1 1 1 1 1
	fix 3440 1 1 1 1 1 1
	fix 3441 1 1 1 1 1 1
	fix 3442 1 1 1 1 1 1
	fix 3443 1 1 1 1 1 1
	fix 3444 1 1 1 1 1 1
	fix 3445 1 1 1 1 1 1
	fix 3446 1 1 1 1 1 1
	fix 3447 1 1 1 1 1 1
	fix 3448 1 1 1 1 1 1
	fix 3449 1 1 1 1 1 1
	fix 3450 1 1 1 1 1 1
	fix 3451 1 1 1 1 1 1
	fix 3452 1 1 1 1 1 1
	fix 3453 1 1 1 1 1 1
	fix 3454 1 1 1 1 1 1
	fix 3455 1 1 1 1 1 1
	fix 3456 1 1 1 1 1 1
	fix 3457 1 1 1 1 1 1
	fix 2437 1 1 1 1 1 1
	fix 2438 1 1 1 1 1 1
	fix 2439 1 1 1 1 1 1
	fix 3458 1 1 1 1 1 1
	fix 3459 1 1 1 1 1 1
	fix 587 1 1 1 1 1 1
	fix 3460 1 1 1 1 1 1
	fix 3461 1 1 1 1 1 1
	fix 3462 1 1 1 1 1 1
	fix 3467 1 1 1 1 1 1
	fix 588 1 1 1 1 1 1
	fix 3468 1 1 1 1 1 1
	fix 3471 1 1 1 1 1 1
	fix 3472 1 1 1 1 1 1
	fix 3473 1 1 1 1 1 1
	fix 3475 1 1 1 1 1 1
	fix 3476 1 1 1 1 1 1
	fix 3477 1 1 1 1 1 1
	fix 3478 1 1 1 1 1 1
	fix 3479 1 1 1 1 1 1
	fix 3480 1 1 1 1 1 1
	fix 3482 1 1 1 1 1 1
	fix 3483 1 1 1 1 1 1
	fix 3484 1 1 1 1 1 1
	fix 3928 1 1 1 1 1 1
	fix 3486 1 1 1 1 1 1
	fix 3487 1 1 1 1 1 1
	fix 3944 1 1 1 1 1 1
	fix 3948 1 1 1 1 1 1
	fix 3490 1 1 1 1 1 1
	fix 3491 1 1 1 1 1 1
	fix 3492 1 1 1 1 1 1
	fix 3949 1 1 1 1 1 1
	fix 2470 1 1 1 1 1 1
	fix 3494 1 1 1 1 1 1
	fix 3495 1 1 1 1 1 1
	fix 3496 1 1 1 1 1 1
	fix 3498 1 1 1 1 1 1
	fix 3499 1 1 1 1 1 1
	fix 3943 1 1 1 1 1 1
	fix 3501 1 1 1 1 1 1
	fix 3502 1 1 1 1 1 1
	fix 3503 1 1 1 1 1 1
	fix 3951 1 1 1 1 1 1
	fix 3505 1 1 1 1 1 1
	fix 3506 1 1 1 1 1 1
	fix 3507 1 1 1 1 1 1
	fix 3945 1 1 1 1 1 1
	fix 3510 1 1 1 1 1 1
	fix 3511 1 1 1 1 1 1
	fix 3513 1 1 1 1 1 1
	fix 3514 1 1 1 1 1 1
	fix 3515 1 1 1 1 1 1
	fix 3516 1 1 1 1 1 1
	fix 3519 1 1 1 1 1 1
	fix 3522 1 1 1 1 1 1
	fix 3523 1 1 1 1 1 1
	fix 3524 1 1 1 1 1 1
	fix 3525 1 1 1 1 1 1
	fix 3528 1 1 1 1 1 1
	fix 3529 1 1 1 1 1 1
	fix 3530 1 1 1 1 1 1
	fix 3531 1 1 1 1 1 1
	fix 3946 1 1 1 1 1 1
	fix 5688 1 1 1 1 1 1
	fix 3534 1 1 1 1 1 1
	fix 5689 1 1 1 1 1 1
	fix 3536 1 1 1 1 1 1
	fix 3537 1 1 1 1 1 1
	fix 3539 1 1 1 1 1 1
	fix 3540 1 1 1 1 1 1
	fix 5690 1 1 1 1 1 1
	fix 5691 1 1 1 1 1 1
	fix 5692 1 1 1 1 1 1
	fix 3947 1 1 1 1 1 1
	fix 5693 1 1 1 1 1 1
	fix 1008 1 1 1 1 1 1
	fix 1009 1 1 1 1 1 1
	fix 1010 1 1 1 1 1 1
	fix 1011 1 1 1 1 1 1
	fix 1012 1 1 1 1 1 1
	fix 1013 1 1 1 1 1 1

# analyses command
domainChange
constraints Transformation
numberer RCM
system UmfPack
test NormUnbalance 0.0001 10  
algorithm Newton
integrator LoadControl 0.0
analysis Static
# ======================================================================================
# NON-ADAPTIVE LOAD CONTROL ANALYSIS
# ======================================================================================

# ======================================================================================
# USER INPUT DATA 
# ======================================================================================

# duration and initial time step
set total_duration 1.0
set initial_num_incr 1

set STKO_VAR_time 0.0
set STKO_VAR_time_increment [expr $total_duration / $initial_num_incr]
set STKO_VAR_initial_time_increment $STKO_VAR_time_increment
integrator LoadControl $STKO_VAR_time_increment 
for {set STKO_VAR_increment 1} {$STKO_VAR_increment <= $initial_num_incr} {incr STKO_VAR_increment} {
	
	# before analyze
	STKO_CALL_OnBeforeAnalyze
	
	# perform this step
	set STKO_VAR_analyze_done [analyze 1 ]
	
	# update common variables
	if {$STKO_VAR_analyze_done == 0} {
		set STKO_VAR_num_iter [testIter]
		set STKO_VAR_time [expr $STKO_VAR_time + $STKO_VAR_time_increment]
		set STKO_VAR_percentage [expr $STKO_VAR_time/$total_duration]
		set norms [testNorms]
		if {$STKO_VAR_num_iter > 0} {set STKO_VAR_error_norm [lindex $norms [expr $STKO_VAR_num_iter-1]]} else {set STKO_VAR_error_norm 0.0}
	}
	
	# after analyze
	set STKO_VAR_afterAnalyze_done 0
	STKO_CALL_OnAfterAnalyze
	
	# check convergence
	if {$STKO_VAR_analyze_done == 0} {
		# print statistics
		if {$STKO_VAR_process_id == 0} {
			puts [format "Increment: %6d | Iterations: %4d | Norm: %8.3e | Progress: %7.3f %%" $STKO_VAR_increment $STKO_VAR_num_iter  $STKO_VAR_error_norm [expr $STKO_VAR_percentage*100.0]]
		}
	} else {
		# stop analysis
		error "ERROR: the analysis did not converge"
	}
	
}

# done
if {$STKO_VAR_process_id == 0} {
	puts "Target time has been reached. Current time = $STKO_VAR_time"
	puts "SUCCESS."
}

loadConst -time 0.0

wipeAnalysis
eigen 15

# modalProperties <-print> <-file $reportFileName> <-unorm>
modalProperties -print -file "results"

# Done!
puts "ANALYSIS SUCCESSFULLY FINISHED"
